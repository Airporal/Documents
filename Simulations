# ä»¿çœŸå™¨åŠå…¶ä½¿ç”¨

----



## 1.åŸºäºå¼€æºå¹³å°çš„æ–¹æ¡ˆ

### 1.1HoloOcean

> [åŸºäºUE4å¼€å‘çš„æ°´ä¸‹ä»¿çœŸç¯å¢ƒã€‚](https://byu-holoocean.github.io/holoocean-docs/UE5.3_Prerelease/index.html)

[RL_AUV_tracking](https://github.com/Ice-mao/RL_AUV_tracking)å‚¨å­˜åº“åœ¨æ­¤ç¯å¢ƒä¸‹ç”¨å¼ºåŒ–å­¦ä¹ è¿›è¡Œæ°´ä¸‹ç›®æ ‡è·Ÿè¸ªã€‚

#### 1.1.1 åŸºæœ¬ä½¿ç”¨

##### A. å®‰è£…

å®‰è£…holooceanå»ºè®®ä½¿ç”¨è™šæ‹Ÿç¯å¢ƒå®‰è£…python3.10ç‰ˆæœ¬ï¼Œå¹¶ä¸”å®‰è£…ä»¥ä¸‹åŒ…ï¼š

ğŸ“¦ æ­é…ç»„åˆä¸€è§ˆ

| åº“            | æ¨èç‰ˆæœ¬ |
| ------------- | -------- |
| numpy         | 1.22.4   |
| scipy         | 1.8.1    |
| opencv-python | 4.5.5.64 |
| matplotlib    | 3.5.2    |
| holoocean     | 1.0.0    |

â€‹	ä¹‹åå…³è”Githubè´¦æˆ·ä¸Unrealï¼Œå¦åˆ™æ— æ³•è®¿é—®holooceanå‚¨å­˜åº“ã€‚å…·ä½“æ­¥éª¤å¯ä»¥å‚è€ƒ[å®˜æ–¹é“¾æ¥](https://byu-holoocean.github.io/holoocean-docs/UE5.3_Prerelease/usage/installation.html)ã€‚

â€‹	æ³¨æ„ä¸‹è½½oceanç¯å¢ƒæ—¶ï¼Œé€Ÿåº¦ææ…¢ï¼Œå®¹æ˜“å¤±è´¥ï¼Œéœ€è¦è‡ªè¡Œä¸‹è½½ç„¶åå®‰è£…ã€‚æ­¥éª¤å¦‚ä¸‹ï¼š

:one:ä½¿ç”¨Aria2cå¤šçº¿ç¨‹ä¸‹è½½ï¼š

```
aria2c -x 16 -s 16 -d /home/airporal/.local/share/holoocean/1.0.0/worlds/Ocean https://robots.et.byu.edu/holo/Ocean/v1.0.0/Linux.zip

aria2c -x 16 -s 16 -d /home/airporal/.local/share/holoocean/2.0.0/worlds/Ocean https://robots.et.byu.edu/holo/Ocean/v2.0.0/Linux.zip

 to
```

:two:ä¿®æ”¹holooceanåŒ…å¯¹åº”çš„ä¸‹è½½å‡½æ•°ï¼Œå°†urlæ”¹ä¸ºæœ¬åœ°å®‰è£…ï¼š

æ‰¾åˆ°pythonç¯å¢ƒä¸­å®‰è£…çš„holooceanåº“ï¼Œæ‰“å¼€packagemanager.pyæ–‡ä»¶ï¼š

```bash
cd /home/airporal/miniconda3/envs/holoocean/lib/python3.10/site-packages/holoocean

```

ä¿®æ”¹installå‡½æ•°ï¼š

```python
# å°†urlæ›´æ”¹ä¸ºè‡ªè¡Œä¸‹è½½çš„oceanå‹ç¼©åŒ…è·¯å¾„ï¼Œæ³¨é‡ŠåŸurl
url = "/home/airporal/.local/share/holoocean/1.0.0/worlds/Ocean/Linux.zip"
'''url = "{backend_url}{package_name}/{branch}/{platform}.zip".format(
                    backend_url=BACKEND_URL,
                    branch=branch,
                    package_name=package_name,
                    platform=commit)sf'''
```

ä¿®æ”¹ _download_binaryå‡½æ•°ï¼š

```python
def _download_binary2(zip_path, install_location, block_size=1000000):
    def file_reader_worker(zip_path, queue, file_size):
        with open(zip_path, 'rb') as f:
            amount_read = 0
            max_width = 20
            percent_per_block = 100 // max_width

            while True:
                chunk = f.read(block_size)
                if not chunk:
                    break
                queue.append(chunk)
                amount_read += len(chunk)

                percent_done = 100 * amount_read / file_size
                int_percent = int(percent_done)
                num_blocks = int_percent // percent_per_block
                blocks = chr(0x2588) * num_blocks
                spaces = " " * (max_width - num_blocks)
                try:
                    sys.stdout.write("\r|" + blocks + spaces + "| %d%%" % int_percent)
                except UnicodeEncodeError:
                    print("\r" + str(int_percent) + "%", end="")

                sys.stdout.flush()

    if not os.path.exists(zip_path):
        print("Zip file not found:", zip_path)
        return

    file_size = os.path.getsize(zip_path)
    print("File size:", file_size, "bytes")

    # ç”¨åˆ—è¡¨æ¨¡æ‹Ÿé˜Ÿåˆ—æ”¶é›†æ•°æ®ï¼Œåªç”¨äºæ˜¾ç¤ºè¿›åº¦ï¼Œä¸ç”¨äºå†™å…¥
    queue = []
    file_reader_worker(zip_path, queue, file_size)
    print()

    # è§£å‹æ–‡ä»¶
    print("Unpacking...")
    with zipfile.ZipFile(zip_path, 'r') as zip_file:
        zip_file.extractall(install_location)

    # è‹¥æ˜¯ç±» Unix ç³»ç»Ÿï¼Œå°è¯•æ·»åŠ å¯æ‰§è¡Œæƒé™
    if os.name == "posix":
        print("Fixing Permissions")
        _make_excecutable(install_location)

    print("Finished.")
    
```

æ”¹ä¸ºä»æœ¬åœ°å®‰è£…å¹¶æ·»åŠ æƒé™å³å¯ã€‚

æµ‹è¯•ï¼š

```python
import holoocean
from holoocean import packagemanager

# æŸ¥çœ‹å®‰è£…çš„åŒ…ï¼š
packagemanager.installed_packages()
# æ˜¾ç¤ºå®‰è£…çš„åŒ…ä¿¡æ¯
packagemanager.package_info("Ocean")
# ç‰¹å®šåœºæ™¯ä¿¡æ¯
packagemanager.world_info("SimpleUnderwater")
packagemanager.scenario_info("Rooms-DataGen")
```

##### B. å»ºç«‹ç¯å¢ƒäº¤äº’

+ æ‰“å¼€ç¯å¢ƒã€æ‰§è¡Œä»¿çœŸåŠ¨ä½œ

    ```python
    env = holoocean.make("Dam-HoveringCamera")
    env.act('auv0', command)
    state = env.tick()
    # ä½¿ç”¨ä»¥ä¸‹å‡½æ•°ç­‰ä»·äºactå’Œtickä¸€æ¬¡
    env.step()
    ```

    actä»…ä»…å‘agentå‘é€æŒ‡ä»¤ï¼Œå¹¶ä¸ä¼šä½¿å¾—å…¶è¿åŠ¨ï¼Œæ‰§è¡Œtickåæ–¹å¯è¿åŠ¨ã€‚è°ƒç”¨actåæ¯æ¬¡è°ƒç”¨tickéƒ½ä¼šå‘agentå‘é€ç›¸åŒçš„æŒ‡ä»¤.

â€‹	åœºæ™¯æ˜¯ä»¥.jsonæ ¼å¼è®¾ç½®çš„é€šè¿‡ueå®ç°çš„ä¸–ç•Œ,ä¸–ç•Œæœ¬èº«è¢«æ”¹å˜,ä½†å¯ä»¥å¯¹ä¸–ç•Œä¸­çš„å¯¹è±¡è¿›è¡Œè®¾ç½®.åœºæ™¯ä»¥{World_name}-{ScenaioName}.jsonå‘½å.

â€‹	**ä¹Ÿå¯ä»¥é€šè¿‡ should_render_viewport()æ–¹æ³•ç¦ç”¨äº¤äº’ç¯å¢ƒã€‚åœ¨è®­ç»ƒæ—¶å¯èƒ½ä¸éœ€è¦å¯è§†åŒ–æ¸²æŸ“ä»¥æé«˜ä»¿çœŸé€Ÿåº¦ã€‚**

â€‹	åœºæ™¯å¯ä»¥é€šè¿‡jsonæ–‡ä»¶åŠ è½½(æ”¾å…¥æŒ‡å®šè·¯å¾„ä¸‹),ä¹Ÿå¯ä»¥é€šè¿‡pythonè¿›è¡Œè®¾ç½®.

```python
{
   "name": "{Scenario Name}",
   "world": "{world it is associated with}",
   "lcm_provider": "{Optional, where to publish lcm to}",
   "ticks_per_sec": 30,
   "frames_per_sec": 30,
   "env_min": [-10, -10, -10],
   "env_max": [10, 10, 10],
   "octree_min": 0.1,
   "octree_max": 5,
   "agents":[
       {
    "agent_name": "auv0",
    "agent_type": "HoveringAUV",
    "sensors": [
        {
           "sensor_type": "RGBCamera", #å¿…è¦å‚æ•°
           "sensor_name": "FrontCamera",
           "location": [1.0, 2.0, 3.0],
           "rotation": [1.0, 2.0, 3.0],
           "socket": "socket name or \"\"",
           "Hz": 5,
           "lcm_channel": "channel_name",
           "configuration": {
				ä¼ æ„Ÿå™¨å‚æ•°è®¾ç½®
           }
    ],
    "control_scheme": 1, # this is the custom dynamics control scheme
    "location": [0,0,-10],
    "rotation": [20,20,90]
}
      "array of agent objects"
       
   ],
   "weather": {
      "hour": 12,
      "type": "'sunny' or 'cloudy' or 'rain'",
      "fog_density": 0,
      "day_cycle_length": 86400
   },
   "window_width":  1280,
   "window_height": 720
}
```

##### C. å¤šä¸ªä»£ç†

Agentä¸»è¦æœ‰æ§åˆ¶æ¨¡å¼ã€[å„ä¸ªä¼ æ„Ÿå™¨å®‰è£…ä½ç½®socketséœ€è¦äº†è§£](https://byu-holoocean.github.io/holoocean-docs/UE5.3_Prerelease/agents/agents.html)ã€‚

Agent Types:

â€‹        "SphereAgent": SphereAgent,

â€‹        "UavAgent": UavAgent,

â€‹        "NavAgent": NavAgent,

â€‹        "AndroidAgent": AndroidAgent,

â€‹        "HandAgent": HandAgent,

â€‹        "TurtleAgent": TurtleAgent,

â€‹        "HoveringAUV": HoveringAUV,

â€‹        "TorpedoAUV": TorpedoAUV,

â€‹        "SurfaceVessel": SurfaceVessel,

```python
import holoocean
import numpy as np
from rich.console import Console
from rich.table import Table
import time
console = Console()
def print_robot_state(step, imu, vel):
    table = Table(title=f"ğŸ¤– Robot State - Step {step}")

    table.add_column("Property", style="cyan", no_wrap=True)
    table.add_column("Value", style="magenta")

    table.add_row("Position", str(imu))
    table.add_row("Orientation", str(vel))

    console.clear()
    console.print(table)
    

cfg = {
    "name": "test_rgb_camera",
    "world": "SimpleUnderwater",
    "package_name": "Ocean",
    "main_agent": "auv0",
    "ticks_per_sec": 60,
    "agents": [
        {
            "agent_name": "auv0",
            "agent_type": "TorpedoAUV",
            "sensors": [
                {
                    "sensor_type": "IMUSensor"
                }
            ],
            "control_scheme": 0,
            "location": [0, 0, -5]
        },
        {
            "agent_name": "auv1",
            "agent_type": "HoveringAUV",
            "sensors": [
                {
                    "sensor_type": "DVLSensor"
                }
            ],
            "control_scheme": 0,
            "location": [0, 2, -5]
        }
    ]
}

env = holoocean.make(scenario_cfg=cfg)
env.reset()

env.act('auv0', np.array([0,0,0,0,75]))
env.act('auv1', np.array([0,0,0,0,20,20,20,20]))
for i in range(300):
    states = env.tick()

    # states is a dictionary
    imu = states["auv0"]["IMUSensor"]

    vel = states["auv1"]["DVLSensor"]
    
    print_robot_state(i, imu, vel)
```

å¯åœ¨agens.pyæ–‡ä»¶ä¸­æŸ¥çœ‹å„ä¸ªagentçš„å®šä¹‰æ•°æ®.ä»¿çœŸæ—¶,æŒ‰tabé”®å¯ä»¥åˆ‡æ¢ä»£ç†.

å¤šä¸ªä»£ç†ä¹‹é—´å¯ä»¥é€šè¿‡å…‰å­¦æˆ–å£°å­¦æ–¹æ³•[ç›¸äº’é€šä¿¡.](https://byu-holoocean.github.io/holoocean-docs/UE5.3_Prerelease/usage/examples/multi-coms.html#)

+ è·å–ä¼ æ„Ÿå™¨æ•°æ®

å¯ä»¥ä½¿ç”¨opencvåº“æ¥å¤„ç†å›¾åƒæ•°æ®ã€‚

```python
import holoocean, cv2
import numpy as np
import time
from pynput import keyboard

env = holoocean.make("Dam-HoveringCamera")
command = np.random.randint(0,10,(8,))
# env.act('auv0', [10,10,10,10,0,0,0,0])
begin = time.time()
for _ in range(2000):
    now = time.time()
    # state = env.tick()
    command = np.random.randint(0,10,(8,))
    env.act('auv0', command)
    state = env.tick()
    print(command,'\t',time.time()-now)
    if "LeftCamera" in state:
        pixels = state["LeftCamera"]
        cv2.namedWindow("Camera Output")
        cv2.imshow("Camera Output", pixels[:, :, 0:3])
        if cv2.waitKey(30) & 0xFF == ord('q'):
            break
    else:
        print("No LeftCamera in state")
        time.sleep(0.1)


cv2.destroyAllWindows()
```

+ é”®ç›˜æ§åˆ¶

å¯ä½¿ç”¨pynputåº“ç›‘å¬é”®ç›˜æ“ä½œï¼Œæ¥æ§åˆ¶agentè¿åŠ¨ã€‚

```python
import holoocean, cv2
import numpy as np
import time
from pynput import keyboard

pressed_keys = list()
force = 25

def on_press(key):
    global pressed_keys
    if hasattr(key, 'char'):
        pressed_keys.append(key.char)
        # ä½¿ç”¨é›†åˆçš„äº’å¼‚æ€§å»é‡
        pressed_keys = list(set(pressed_keys))
        
def on_release(key):
    global pressed_keys
    if hasattr(key, 'char'):
        pressed_keys.remove(key.char)

listener = keyboard.Listener(
    on_press=on_press,
    on_release=on_release)
listener.start()

def parse_keys(keys, val):
    # ä¸åŠ¨åŠ›å­¦ç›¸å…³ï¼ï¼
    command = np.zeros(8)
    if 'i' in keys:
        command[0:4] += val
    if 'k' in keys:
        command[0:4] -= val
    if 'j' in keys:
        command[[4,7]] += val
        command[[5,6]] -= val
    if 'l' in keys:
        command[[4,7]] -= val
        command[[5,6]] += val

    if 'w' in keys:
        command[4:8] += val
    if 's' in keys:
        command[4:8] -= val
    if 'a' in keys:
        command[[4,6]] += val
        command[[5,7]] -= val
    if 'd' in keys:
        command[[4,6]] -= val
        command[[5,7]] += val

    return command
with holoocean.make("Dam-HoveringCamera") as env:
    begin = time.time()
    while True:
        now = time.time()
        if 'q' in pressed_keys:
            break
        command = parse_keys(pressed_keys, force)
        print(command,'\t',time.time()-now)
        #send to holoocean
        env.act("auv0", command)
        state = env.tick()
        
        if "LeftCamera" in state:
            pixels = state["LeftCamera"]
            cv2.namedWindow("Camera Output")
            cv2.imshow("Camera Output", pixels[:, :, 0:3])
        if cv2.waitKey(30) & 0xFF == ord('q'):
            break
        else:
            print("No LeftCamera in state")
            # time.sleep(0.1)
    cv2.destroyAllWindows()
```

+ åŠ¨åŠ›å­¦è®¾ç½®

> å‘ç¯å¢ƒä¸­æ‰§è¡ŒåŠ¨ä½œä¼šè·å¾—åé¦ˆçš„çŠ¶æ€,å¯ä»¥è‡ªå·±æ ¹æ®çŠ¶æ€ä¿¡æ¯è®¾ç½®åŠ¨åŠ›å­¦æ¨¡å‹æ¥æ§åˆ¶ä¸‹ä¸€æ­¥è¾“å…¥æŒ‡ä»¤.

```python
import numpy as np
import holoocean
from holoocean.agents import HoveringAUV
from scipy.spatial.transform import Rotation

scenario = {
    "name": "hovering_dynamics",
    "package_name": "Ocean",
    "world": "SimpleUnderwater",
    "main_agent": "auv0",
    "agents": [
        {
            "agent_name": "auv0",
            "agent_type": "HoveringAUV",
            "sensors": [
                {
                    "sensor_type": "DynamicsSensor",
                    "configuration":{
                        "UseRPY": False # Use quaternion
                    }
                },
            ],
            "control_scheme": 1, # this is the custom dynamics control scheme
            "location": [0,0,-10],
            "rotation": [20,20,90]
        }
    ]
}

g = 9.81 # gravity
b = 3 # linear damping
c = 2 # angular damping
# HoveringAUV.mass += 1 # alternatively make it sink

def f(x):
    # Extract all info from state
    a = x[:3]  # åŠ é€Ÿåº¦
    v = x[3:6] # é€Ÿåº¦
    p = x[6:9] # ä½ç½®
    alpha = x[9:12] # è§’åŠ é€Ÿåº¦
    omega = x[12:15] # è§’é€Ÿåº¦
    quat = x[15:19] # å››å…ƒæ•°è¡¨ç¤ºçš„å§¿æ€
    R = Rotation.from_quat(quat).as_matrix()

    # è®¡ç®—æ¨è¿›å™¨è¾“å‡ºçš„åŠ›,é¦–å…ˆæ˜¯æŠµæŠ—é™åŠ›,å…¶æ¬¡æ˜¯é€šè¿‡PDæ§åˆ¶å™¨,è®¡ç®—æ¨è¿›å™¨çš„åŠ›
    force = np.zeros(3)
    force[2] += -HoveringAUV.mass * g # gravity
    force[2] += HoveringAUV.water_density * g * HoveringAUV.volume # buoyancy
    force -= v*b # Damping

    # Sum all torques
    torque = np.zeros(3)
    buoy_force = HoveringAUV.water_density*g*HoveringAUV.volume*np.array([0,0,1]) # æµ®åŠ› in global frame
    cob = R@HoveringAUV.cob # æ—‹è½¬åçš„æµ®å¿ƒ,æ—‹è½¬çŸ©é˜µä¸æµ®å¿ƒå‘é‡ç§¯
    torque += np.cross(cob, buoy_force) # torque from buoyancy,æµ®å¿ƒå’Œæµ®åŠ›çš„å‰ç§¯,å¾—åˆ°ç›¸å¯¹äºåŸç‚¹çš„åŠ›çŸ©
    torque -= omega*c # damping

    # Convert force & torque to accelerations
    lin_accel = force / HoveringAUV.mass   
    ang_accel = np.linalg.inv(HoveringAUV.I)@torque # æ—‹è½¬çŸ©é˜µçš„é€†çŸ©é˜µä¸åŠ›çŸ©çš„å‰ç§¯å¾—åˆ°è§’åŠ é€Ÿåº¦

    return np.append(lin_accel, ang_accel)

accels = np.zeros(6)
# Make environment
with holoocean.make(scenario_cfg=scenario) as env:
    for i in range(500):
        # Step simulation
        state = env.step(accels)
        # Get accelerations to pass to HoloOcean
        print(state["DynamicsSensor"])
        accels = f(state["DynamicsSensor"])
```

##### D. PDæ§åˆ¶å™¨

æŸ¥çœ‹agentå®šä¹‰æ–‡ä»¶ä¸­çš„è®¾ç½®.ä¸€èˆ¬è®¾ç½®å¤šç§æ§åˆ¶æ¨¡å¼,ä½¿ç”¨control_schemeå‚æ•°æ¥é€‰æ‹©æŒ‡å®šçš„æ§åˆ¶æ¨¡å¼.

å¯ä»¥ç»™agentè®¾ç½®control_scheme=1æ¥ä½¿ç”¨PDæ§åˆ¶æ¨¡å¼,é€šè¿‡å‘envå‘é€ä½ç½®ä¹Ÿå¯ä»¥æ§åˆ¶agentå‘ç›®æ ‡è¿åŠ¨.

ä¸€èˆ¬0ä»£è¡¨æ¨è¿›å™¨æ§åˆ¶ï¼Œ1ä»£è¡¨æ¨åŠ›çš„PDæ§åˆ¶ï¼Œ2ä»£è¡¨è‡ªå®šä¹‰æ§åˆ¶å™¨ï¼Œéœ€è¦è‡ªå·±è®¾ç½®ï¼Œå°†ç¦ç”¨æ‰€æœ‰é™¤ç¢°æ’å¤–çš„åŠ›ã€‚

```python
import holoocean
import numpy as np
import utils
import time
config = {
    "name": "SurfaceNavigator",
    "world": "SimpleUnderwater",
    "package_name": "Ocean",
    "main_agent": "hroerone",
    "agents":[
        {
            "agent_name": "hroerone",
            "agent_type": "SurfaceVessel",
            "sensors": [
            {
                "sensor_type": "GPSSensor"
                # "sensor_type": "IMUSensor"
            }
            ],
            "control_scheme": 1, # PD Control Scheme
            "location": [0,0,2],
            "rotation": [0, 0, 0]
        }
    ],
}

# Define waypoints
idx = 0
locations = np.array([[25,25],
                    [-25,25],
                    [-25,-25],
                    [25,-25]])

# Start simulation
with holoocean.make(scenario_cfg=config) as env:
    # Draw waypoints
    for l in locations:
        env.draw_point([l[0], l[1], 0], lifetime=0)

    # print("Going to waypoint ", idx)
    console = utils.init_consol()
    all_data,data = [[],[],[]],[[],[],[]]
    # all_data,data = [[]*3],[]
    frame_count=0
    start_time = time.time()
    while True:
        try:
            frame_count+=1
            #send waypoint to holoocean
            state = env.step(locations[idx])
            # Check if we're close to the waypoint
            p = state["GPSSensor"][0:2]
            if np.linalg.norm(p-locations[idx]) < 1e-1:
                idx = (idx+1) % 4
                print("Going to waypoint ", idx)
            # data = utils.print_robot_state_live(console,data,val=state["GPSSensor"][0:3],name=["x", "y","z"],frame_count=frame_count,start_time=start_time)
            utils.print_robot_state(console,frame_count,state["GPSSensor"])
            for i in range(len(state["GPSSensor"][0:3])):
                all_data[i].append(state["GPSSensor"][i])
        except KeyboardInterrupt:
            print("Exiting...")
            break
    utils.save_data_to_excel(all_data, names=["x", "y","z"])
```

##### E. å£°çº³

+ æˆåƒå£°çº³

+ å‰–æå£°çº³

+ ä¾§æ‰«å£°çº³

+ å•æ³¢æŸå£°çº³

##### F. å¿«æ·é”®

åœ¨ä»¿çœŸç•Œé¢å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å¿«æ·é”®ï¼š

| é’¥åŒ™            | è¡ŒåŠ¨         | æè¿°                                                         |
| --------------- | ------------ | ------------------------------------------------------------ |
| `c`             | åˆ‡æ¢ç›¸æœºæ¨¡å¼ | åœ¨è¿½é€æ‘„åƒæœºå’Œé€è§†æ‘„åƒæœºä¹‹é—´åˆ‡æ¢ï¼Œæ˜¾ç¤ºä»£ç†çš„æ‘„åƒæœºä¼ æ„Ÿå™¨æ‰€çœ‹åˆ°çš„å†…å®¹ã€‚ |
| `v`             | åˆ‡æ¢è§‚ä¼—æ¨¡å¼ | åˆ‡æ¢è§‚ä¼—æ¨¡å¼ï¼Œè®©æ‚¨å¯ä»¥è‡ªç”±åœ°ç¯æ¸¸ä¸–ç•Œã€‚                       |
| `w` `a` `s` `d` | ç§»åŠ¨ç›¸æœº     | åœ¨è§‚ä¼—/è‡ªç”±æ‘„åƒæœºæ¨¡å¼ä¸‹ç§»åŠ¨è§†å£æ‘„åƒæœºã€‚                      |
| `q` `ctrl`      | ä¸‹é™         | å¯¹äºè§‚ä¼—/è‡ªç”±é•œå¤´æ¨¡å¼                                        |
| `e` `space`     | ä¸Šå‡         | å¯¹äºè§‚ä¼—/è‡ªç”±é•œå¤´æ¨¡å¼                                        |
| `shift`         | æ¶¡è½®         | åœ¨è§‚ä¼—/è‡ªç”±è§†è§’æ—¶ç§»åŠ¨å¾—æ›´å¿«                                  |
| `tab`           | å¾ªç¯åˆ‡æ¢ä»£ç† | å½“ä¸å¤„äºè§‚ä¼—/è‡ªç”±æ‘„åƒæœºæ¨¡å¼æ—¶ï¼Œå¾ªç¯æµè§ˆä¸–ç•Œä¸Šçš„ä»£ç†          |
| `h`             | åˆ‡æ¢HUD      | HUD æ˜¾ç¤ºè§†å£æ‰€è·Ÿéšçš„ä»£ç†çš„åç§°å’Œä½ç½®ï¼Œæˆ–è€…å¦‚æœè§†å£åˆ†ç¦»ï¼ˆæ—è§‚è€…æ¨¡å¼ï¼‰ï¼Œåˆ™æ˜¾ç¤ºæ‘„åƒæœºçš„ä½ç½®è¯·æ³¨æ„ï¼Œè¿™å°†å¹²æ‰° ViewportCapture ä¼ æ„Ÿå™¨ |

---

##### G. headless

> ä½¿ç”¨should_render_viewport()æ–¹æ³•æ˜¯åœ¨è°ƒç”¨ç¯å¢ƒåæ‰‹åŠ¨è®¾ç½®ä¸è¿›è¡Œçª—å£æ¸²æŸ“ï¼Œä¸»çª—å£ä¸å˜åŒ–ï¼Œä½†ä¼ æ„Ÿå™¨æ˜¾ç¤ºçš„ç•Œé¢ä»ç„¶å­˜åœ¨ä¸”æ›´æ–°ï¼Œè€Œæ— å¤´æ¨¡å¼å°†è‡ªåŠ¨ç¦ç”¨çª—å£æ¸²æŸ“ï¼Œå³ä¸æ‰“å¼€ä¸»çª—å£ï¼›

```python
import holoocean
import matplotlib.pyplot as plt
import numpy as np
import utils
#### GET SONAR CONFIG
scenario = "OpenWater-TorpedoSinglebeamSonar"
config = holoocean.packagemanager.get_scenario(scenario)
config = config['agents'][0]['sensors'][-1]["configuration"]
minR = config['RangeMin']
maxR = config['RangeMax']
binsR = config['RangeBins']

#### GET PLOT READY
plt.ion()

t = np.arange(0,50)
r = np.linspace(minR, maxR, binsR)
T, R = np.meshgrid(t, r)
data2 = np.zeros_like(R)

plt.grid(False)
plot = plt.pcolormesh(T, R, data2, cmap='gray', shading='auto', vmin=0, vmax=1)
plt.tight_layout()
plt.gca().invert_yaxis()
plt.gcf().canvas.flush_events()

#### RUN SIMULATION
command = np.array([0,0,0,0,20])
data = []
with holoocean.make(scenario,show_viewport=False) as env:
    for i in range(1000):
        env.act("auv0", command)
        env.should_render_viewport(True)
        state = env.tick()
        if i==0:
            data = [[] for n in state["VelocitySensor"]]
            # data=np.zeros_like(state["VelocitySensor"])
            print(data)
        console = utils.init_consol()
        
        print(state["VelocitySensor"])
        utils.print_robot_state_live(console,data,val=state["VelocitySensor"],name=["x","y","z"])
        if 'SinglebeamSonar' in state:
            data2 = np.roll(data2, 1, axis=1)
            data2[:,0] = state['SinglebeamSonar']

            plot.set_array(data2.ravel())

            plt.draw()
            plt.gcf().canvas.flush_events()
        

print("Finished Simulation!")
plt.ioff()
plt.show()
```

å½“ä½¿ç”¨sshè¿œç¨‹æ§åˆ¶æ—¶ï¼Œè‡ªåŠ¨è¿›å…¥headlessæ¨¡å¼ã€‚

#### 1.1.2  åœºæ™¯åˆ—è¡¨

+ Dam

![image-20250421111407931](assets/image-20250421111407931.png)

+ OpenWater

![image-20250421111528327](assets/image-20250421111528327.png)

+ PierHarbor

![image-20250421111648934](assets/image-20250421111648934.png)

+ SimpleUnderWater

![image-20250421111808429](assets/image-20250421111808429.png)

æ¯ä¸ªåœºæ™¯ä¸‹åŒ…å«ä¸€äº›é¢å¤–å®šä¹‰çš„åœºæ™¯ï¼Œå¦‚agentç±»å‹ã€ä¼ æ„Ÿå™¨ç±»å‹ç­‰ã€‚

#### 1.1.3 ä½¿ç”¨è™šå¹»å¼•æ“è¿›è¡Œå¼€å‘

:one:å¼€å‘å‰å‡†å¤‡

â€‹	å»ºè®®åœ¨windowsä¸‹è¿›è¡Œå¼€å‘ï¼Œå®‰è£…UE5.3ã€Visual Studio 2022ã€git ã€pythonã€‚

â€‹	å…‹éš†holooceanä»“åº“ï¼Œå¹¶åˆ‡æ¢åˆ°developåˆ†æ”¯ï¼Œå†å®‰è£…pythonåŒ…ï¼Œå¯ä»¥åœ¨engineç›®å½•ä¸‹æ‰¾åˆ°ueçš„uprojectæ–‡ä»¶ã€‚åŒå‡»åç‚¹å‡»ç«‹å³é‡å»ºä»¥æ‰“å¼€è™šå¹»å¼•æ“ã€‚

```python
git checkout develop
pip install -e client/
```

â€‹	![image-20250522205542520](assets/image-20250522205542520.png)

â€‹	åœ¨è™šå¹»ç¼–è¾‘å™¨ä¸­ï¼Œç‚¹å‡»å¹³å°->çª—å£->çƒ˜ç„™å†…å®¹ã€‚

+ åˆ›å»ºAgent

â€‹	é¦–å…ˆéœ€è¦å¤åˆ¶ä»¥ä¸‹çš„TurtleAgentä½œä¸ºåŸºæœ¬æ¨¡æ¿ï¼š

```python
class TurtleAgent(HoloOceanAgent):
    """A simple turtle bot.

    **Action Space**:

    ``[forward_force, rot_force]``
    
    - ``forward_force`` is capped at 160 in either direction
    - ``rot_force`` is capped at 35 either direction

    Inherits from :class:`HoloOceanAgent`."""
    # constants in TurtleAgent.h in holoocean-engine
    __MAX_THRUST = 160.0
    __MIN_THRUST = -__MAX_THRUST

    __MAX_YAW = 35.0
    __MIN_YAW = -__MAX_YAW

    agent_type = "TurtleAgent"

    @property
    def control_schemes(self):
        low = [self.__MIN_THRUST, self.__MIN_YAW]
        high = [self.__MAX_THRUST, self.__MAX_YAW]
        return [("[forward_force, rot_force]", ContinuousActionSpace([2], low=low, high=high))]

    def get_joint_constraints(self, joint_name):
        return None

    def __repr__(self):
        return "TurtleAgent " + self.name

    def __act__(self, action):
        np.copyto(self._action_buffer, np.array(action))
        np.copyto(self._action_buffer, action)
```

â€‹	å¹¶åœ¨AgentDefinitionç±»ä¸­å£°æ˜ã€‚æ­¤æ—¶å·²å®ŒæˆPythonä¸­çš„ä»»åŠ¡ã€‚

#### 1.1.4 Holooceanå¼ºåŒ–å­¦ä¹ 

> åˆ©ç”¨Holooceanæä¾›çš„ç¯å¢ƒä¸ä»£ç†å®ç°å¼ºåŒ–å­¦ä¹ 



### 1.2 Dave

> [åŸºäºGazeboå¼€å‘çš„æ°´ä¸‹ä»¿çœŸç¯å¢ƒ](https://field-robotics-lab.github.io/dave.doc/)

#### 1.2.1 å®‰è£…

è¯¥ä»¿çœŸç¯å¢ƒåŸºäº[UUV-Simulator](https://github.com/uuvsimulator/uuv_simulator) å»ºç«‹ã€‚

Ubuntu22.04 ä½¿ç”¨Dockerå®‰è£…Daveï¼Œ[å‚ç…§æ­¤æ•™ç¨‹è¿›è¡Œ](https://field-robotics-lab.github.io/dave.doc/contents/installation/Docker-Development-Image/)ã€‚å®‰è£…è¿‡ç¨‹ä¸­ä¼šç”±äºç½‘ç»œåŸå› å¯¼è‡´å„ç§æŠ¥é”™ï¼Œå¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•è§£å†³ï¼š

```bash
# 0.è‡ªè¡Œpullè¿œç¨‹çš„dockeré•œåƒåˆ°æœ¬åœ°
docker pull ros:noetic-ros-base

# 1. ä¿®æ”¹build.bashä¸­åˆ›å»ºdockerçš„ç½‘ç»œå½¢å¼ï¼Œè®¾ç½®network=host
docker build --network=host --rm -t $image_plus_tag -f "${1}"/Dockerfile "${1}" && \
docker tag $image_plus_tag $image_name:$distro && \

# 2. åœ¨dockerfileä¸­æ·»åŠ ä¿®å¤ä¾èµ–ç¼ºå¤±
RUN apt-get install -f --fix-missing
# Get ROS and Gazebo
RUN /bin/sh -c 'echo "deb http://packages.ros.org/ros/ubuntu ${RELEASE} main" > /etc/apt/sources.list.d/ros1-latest.list' \
 && apt-key adv --keyserver hkp://keyserver.ubuntu.com:80 --recv-keys C1CF6E31E6BADE8868B172B4F42ED6FBAB17C654
RUN apt-get install -f --fix-missing \
 && /bin/sh -c 'echo "deb http://packages.osrfoundation.org/gazebo/ubuntu-stable ${RELEASE} main" > /etc/apt/sources.list.d/gazebo-stable.list' \
 
 # 3. è®¾ç½®run.bashçš„ç»ˆç«¯ä»£ç†
export http_proxy=http://127.0.0.1:7890
export https_proxy=http://127.0.0.1:7890
```

æ³¨æ„ï¼Œè¿è¡Œæ•™ç¨‹çš„./run.bash dockwater:noeticåä¼šå°†æœ¬åœ°ä¸»ç›®å½•ã€æŒ‚è½½åˆ°é•œåƒï¼Œå¹¶ç›´æ¥è¿›å…¥äº†é•œåƒï¼Œç»ˆç«¯å¯èƒ½æ²¡æœ‰å¤ªå¤§å˜åŒ–ï¼Œæ³¨æ„åŒºåˆ†ã€‚

+ ç›´æ¥åœ¨Ubuntu20.04ä¸»æœºä¸Šå®‰è£…

å‚ç…§æ–‡æ¡£å®‰è£…æ•™ç¨‹æ­£å¸¸å®‰è£…å³å¯ï¼Œå®‰è£…ROSå’ŒGazeboå¯ä»¥å‚è€ƒå°ç”²é±¼çš„è„šæœ¬å®‰è£…ã€‚

å®‰è£…ä¹‹åï¼Œè¿˜éœ€è¦ä¸‹è½½ä¸€äº›å…¶å®ƒçš„ROSä¾èµ–ï¼Œæ±‡æ€»å¦‚ä¸‹:

```bash
sudo apt-get install ros-noetic-effort-controllers
sudo apt-get install ros-noetic-joy
sudo apt-get install ros-noetic-kdl-parser-py
```

#### 1.2.2 åŠŸèƒ½åŒ…

â€‹		DaveåŸºäºROSè¿›è¡Œå¼€å‘ï¼Œæä¾›å…«ä¸ªROSåŠŸèƒ½åŒ…ï¼Œä¸»è¦åŒ…æ‹¬æ§åˆ¶æ¥å£ã€gazebo worldç¯å¢ƒåŒ…ã€ä¼ æ„Ÿå™¨æ¨¡å—å’Œä¸»è¦çš„æ°´ä¸‹æœºå™¨äººã€‚

![image-20250430102528164](/media/airporal/8333B1863791CF8A/learn/Notebook/Simulations.assets/image-20250430102528164.png)

å…¶ä¸­ï¼Œåœ¨uuv_simulatorä¸­åŒ…å«äº†åŸé¡¹ç›®çš„æ‰€æœ‰æ–‡ä»¶å’ŒåŠŸèƒ½ï¼Œå¯ä»¥å‚è€ƒåŸé¡¹ç›®è¿›è¡Œå¼€å‘ã€‚

+ dave

    exampleï¼šæ¡ˆä¾‹

    extrasï¼šæ— ç”¨å¤šæ³¢æŸå£°çº³æ‹“å±•

    gazeboï¼šæ— ç”¨gazeboçš„daveæ’ä»¶åŒ…

    legacyï¼šæ— ç”¨é—ç•™é¡¹ç›®

    modelsï¼šå¤–è§‚æ¨¡å‹åŸæ–‡ä»¶

    toolsï¼šæ— ç”¨å·¥å…·

    urdfï¼šå„ä¸ªæœºå™¨äººã€æ‰§è¡Œå™¨ã€ä¼ æ„Ÿå™¨æè¿°æ–‡ä»¶

+ dockwater

    dockerä¸‹ä½¿ç”¨æ—¶çš„é…ç½®åŒ…

+ ds_msgs

    ds_*åŒ…å«äº†ä¸€ç³»åˆ—ä¼ æ„Ÿå™¨ç”¨åˆ°çš„æ¶ˆæ¯æ¥å£ã€Gazeboæ’ä»¶ã€URDFæ–‡ä»¶å’ŒåŸºæœ¬çš„World

+ ds_sim
    ds_*åŒ…å«äº†ä¸€ç³»åˆ—ä¼ æ„Ÿå™¨ç”¨åˆ°çš„æ¶ˆæ¯æ¥å£ã€Gazeboæ’ä»¶ã€URDFæ–‡ä»¶å’ŒåŸºæœ¬çš„World

+ eca_a9
    åŒ…å«äº†ECA A9æ°´ä¸‹æœºå™¨äººçš„descriptioã€controlæ–‡ä»¶

+ rexrov2
    åŒ…å«äº†rexrov2çš„descriptionã€controlæ–‡ä»¶ã€‚

+ uuv_manipulators

    æœºæ¢°è‡‚å’Œå¤¹çˆªåŠŸèƒ½åŒ…ã€‚

    + uuv_manipulators_control

    å…³èŠ‚ã€å¤¹çˆªæ§åˆ¶å™¨

    + uuv_manipulators_description

    æœºæ¢°è‡‚çš„æè¿°çš„æ¨¡æ¿

    + uuv_manipulators_kinematics

    è¿åŠ¨å­¦è§£

    + uuv_manipulators_msgs

    ç”¨åˆ°çš„æ¶ˆæ¯æ¥å£

    + oberon4

    oberon4çš„æè¿°åŠæ§åˆ¶è„šæœ¬

    + oberon7

    oberon7çš„æè¿°åŠæ§åˆ¶è„šæœ¬

+ uuv_simulator

    + uuv_assistants

    **ç”¨äºä»¿çœŸçš„ç›‘æ§å’Œåˆ†æçš„å·¥å…·åŒ…ã€‚**

    + uuv_control

        **æ¨è¿›å™¨ã€è½¨è¿¹çš„ç›¸å…³åŠŸèƒ½åŒ…é›†åˆ**  

          + uuv_auv_control_allocator

          ç”¨äºå°†åŠ›å’ŒåŠ›çŸ©åˆç†åˆ†é…ç»™ç»™å„ä¸ªæ¨è¿›å™¨

          + uuv_control_cascaded_pid

          ä¸€ä¸ªä½ç½®ã€åŠ é€Ÿåº¦ã€é€Ÿåº¦çš„PIDæ§åˆ¶å™¨

          + uuv_control_msgs

          uuv_controlä½¿ç”¨åˆ°çš„æ¶ˆæ¯æ¥å£

          + uuv_control_utils

          

          + uuv_thruster_manager

          

          + uuv_trajectory_control

    + uuv_descriptions

    **æä¾›çš„å„ä¸ªuuvæ¨¡å‹æ–‡ä»¶ã€å¯åŠ¨è„šæœ¬ç­‰ã€‚**

    + uuv_gazebo

    **ä¸€äº›gazeboã€rvizçš„ä½¿ç”¨demo**

    + uuv_gazebo_plugins

        + uuv_gazebo_plugins

        **æ¨¡æ‹Ÿæµä½“åŠ¨åŠ›å’Œé™æ°´åŠ›ã€æ¨è¿›å™¨æ¨åŠ›çš„åŠŸèƒ½åŒ…**

        + uuv_gazebo_ros_plugins

        å°†æ¨¡æ‹Ÿçš„æµä½“åŠ¨åŠ›ã€æ°´é™åŠ›ã€æ¨è¿›å™¨æ¨åŠ›ä»¥ROSæœåŠ¡å’Œä¸»é¢˜çš„å½¢å¼å‘å¸ƒ

        + uuv_gazebo_ros_plugins_msgs

        ä½¿ç”¨åˆ°çš„æ¶ˆæ¯æ¥å£

    + uuv_gazebo_worlds

    uuv_simulatoræä¾›çš„gazebo Worldæ–‡ä»¶

    + uuv_sensor_plugins

        + uuv_sensor_ros_plugins

        åŒ…æ‹¬camerã€DVLã€Sonarã€GPSã€IMUç­‰ä¼ æ„Ÿå™¨çš„ROSå®ç°ã€ç½‘æ ¼ã€URDFæ–‡ä»¶

        + uuv_sensor_ros_plugins_msg

        sensoræ’ä»¶ç”¨åˆ°çš„æ¶ˆæ¯æ¥å£

    + uuv_teleop

    **å°†æ‰‹æŸ„å¤–è®¾ä¿¡å·è½¬åŒ–ä¸ºROSä¿¡å·çš„åŠŸèƒ½åŒ…**

    + uuv_tutorials

    + uuv_world_plugins

        å…³äºgazeboä»¿çœŸçš„worldè®¾ç½®æ’ä»¶ç»„

        + uuv_world_ros_plugins
        + uuv_world_ros_plugins_msgs

        æ¶ˆæ¯æ¥å£

        + uuv_world_plugins

#### 1.2.3 å¦‚ä½•å¯¼å…¥è‡ªå·±çš„æœºå™¨äººï¼Ÿ

åœ¨æ­¤ç›®å½•ä¸‹æ·»åŠ è‡ªå·±çš„æœºå™¨äººçš„åŠŸèƒ½åŒ…ï¼š

```bash
cd src/dave/urdf/robots
catkin_create_pkg hroerone_description
```

åœ¨descriptionä¸‹æ–°å»ºmeshesã€urdfã€launchæ–‡ä»¶ï¼Œåˆ†åˆ«å­˜æ”¾å¯¹åº”æ–‡ä»¶ã€‚

åœ¨æ­¤ç›®å½•ä¸‹æ–°å»ºlaunchæ–‡ä»¶ï¼Œä»¥è°ƒç”¨åœ¨descriptionä¸­è®¾ç½®çš„å„ä¸ªlaunchæ–‡ä»¶ï¼š

```bash
cd src/dave/examples/dave_robot_launch/launch
```

æœ€å¥½å…ˆå‚è€ƒrexrov2ã€eca_a9å»ºç«‹ä¸€ä¸ªå®Œæ•´çš„hroeroneåŠŸèƒ½åŒ…ï¼Œå†ä½¿ç”¨daveè¿›è¡Œæµ‹è¯•ã€‚

### 1.3 UNav-sim

> [åŸºäºè™šå¹»å¼•æ“5å’ŒAirSimå¼€å‘çš„æ°´ä¸‹æœºå™¨äººæ¨¡æ‹Ÿå™¨](https://github.com/open-airlab/UNav-Sim)

â€‹	UNav-simåŸºäºAirSimé¡¹ç›®å¼€å‘ï¼Œç›®å‰ç¼ºå°‘æ–‡æ¡£ï¼Œä½†æ˜¯å¯ä»¥å‚è€ƒAirsimè¿›è¡Œå¼€å‘ã€‚ç„¶è€Œï¼ŒUNav-simå¹¶ä¸æˆç†Ÿï¼Œç›®å‰ä»…ä»…å¯ä»¥ä½¿ç”¨C++è¿›è¡Œå¼€å‘ï¼Œåº•å±‚APIä¸å®Œå–„ï¼ŒåŸºæœ¬ä¸æ”¯æŒä½¿ç”¨pythonçš„APIã€‚

â€‹	è¦å®‰è£…UNavSimï¼Œå»ºè®®åœ¨Windowsä¸Šè¿›è¡Œå®‰è£…ï¼Œå› ä¸ºepic launcher ä¸æ”¯æŒUbuntuï¼Œè€ŒUE5éœ€è¦ä¾æ‰˜è¯¥å¹³å°ä¸‹è½½ä¸€äº›åœºæ™¯ã€æ¨¡å‹ç­‰ã€‚ä½†ä¹Ÿå¯åœ¨Ubuntuä¸Šç¼–è¯‘å®‰è£…Ue5ï¼Œå¹¶æ‰“å¼€Unavsimä¸­çš„é¡¹ç›®ã€‚å‚è€ƒä»“åº“[è¯´æ˜å®‰è£…å³å¯](https://github.com/open-airlab/UNav-Sim)ã€‚

---

â€‹	åœ¨Windowsä¸‹ä½¿ç”¨ï¼š

â€‹	é¦–å…ˆå®‰è£…UE5ï¼Œç›´æ¥é€šè¿‡epicå®‰è£…å³å¯ã€‚Airsimæ”¯æŒUE4ï¼Œè€ŒUNavsimæ”¯æŒUE5ï¼Œå®‰è£…è¿‡ç¨‹å¤§æ¦‚ä¸[Airsimæ–‡æ¡£](https://microsoft.github.io/AirSim/build_windows/)ä¸€è‡´ã€‚

â€‹	å®‰è£…åï¼Œå¯å‚è€ƒæ­¤æ–‡æ¡£çš„[å·¥ä½œæµè¿›è¡Œ](https://microsoft.github.io/AirSim/dev_workflow/)ï¼ŒåŸºæœ¬æ€æƒ³æ˜¯ï¼Œå¦‚æœè¦å¯¹æ’ä»¶è¿›è¡Œæ›´æ”¹ï¼Œé¦–å…ˆä½¿ç”¨buildè„šæœ¬ç”Ÿæˆä»£ç ï¼Œç„¶åéœ€è¦åœ¨blockä¸­ä½¿ç”¨VSè¿›è¡Œå¼€å‘ï¼Œå¼€å‘å®Œæˆåï¼Œå†è¿è¡Œupdate_to_git.batï¼Œå°†æ›´æ”¹åŒæ­¥åˆ°Unreal/Pluginsä¸­ã€‚

â€‹	åœ¨å…¶å®ƒè‡ªå®šä¹‰åœºæ™¯ä¸­ä½¿ç”¨æ—¶ï¼Œå¤åˆ¶Unreal/Pluginsæ–‡ä»¶å¤¹åˆ°ç›®æ ‡è™šå¹»é¡¹ç›®æ–‡ä»¶å¤¹ä¸­ï¼Œè¿è¡Œslnæ‰“å¼€visual studioè°ƒè¯•é¡¹ç›®ï¼Œä¹‹åé€‰æ‹©DebugGame Editor å¹¶åœ¨æœ¬åœ°è°ƒè¯•å³å¯è‡ªåŠ¨è°ƒè¯•å¹¶æ‰“å¼€ueã€‚

â€‹	å®‰è£…é¡¹ç›®æ—¶ï¼Œç¼–è¯‘è¿‡ç¨‹ä¼šç”±äºç½‘ç»œé—®é¢˜å‡ºç°æŠ¥é”™ï¼Œè°ƒè¯•æ—¶ï¼Œå¯èƒ½ä¼šç”±äºvisual studioç¼ºå°‘éœ€è¦çš„ç»„ä»¶è€ŒæŠ¥é”™ï¼Œæ ¹æ®ç¼ºå°‘çš„å®‰è£…å³å¯ã€‚æ³¨æ„ï¼Œç¬¬ä¸€æ¬¡å®‰è£…ueï¼Œåœ¨å®‰è£…å®Œåï¼Œè¦é€€å‡ºepicå†é‡æ–°è¿›å…¥ï¼Œå‡ºç°ä¸€ä¸ªæç¤ºå¹¶ç¡®å®šåæ‰å¯ä½¿ç”¨ã€‚

---

â€‹	å¼€å‘Unavsim:

â€‹	å¯ä½¿ç”¨C++ å¼€å‘ï¼Œé—æ†¾çš„æ˜¯UnavSimå¹¶æ²¡æœ‰å®ŒæˆpythonAPIï¼Œæ— æ³•å‘AirSImé‚£æ ·ä½¿ç”¨PythonAPIæ§åˆ¶æœºå™¨äººè¿åŠ¨ã€‚

---

â€‹	æ·»åŠ è‡ªå·±çš„æœºå™¨äººï¼Ÿ

â€‹	å¾ˆå¤æ‚ã€‚

+ å»ºç«‹è‡ªå·±çš„æœºå™¨äººæ¨¡å‹ï¼Œå¹¶åœ¨UEä¸­å¯¼å…¥
+ åœ¨Unreal/Environments/Blcksä¸­è¿›å…¥UEï¼Œå¹¶ä¸”å°†æ¨¡å‹æ›´æ”¹ä¸ºè‡ªå·±çš„æœºå™¨äºº
+ è¦è°ƒè¯•æœºå™¨äººå’Œè®¾ç½®ä¸€äº›APIï¼Œä¿®æ”¹AirLibï¼Œå»ºç«‹è‡ªå·±çš„æœºå™¨äººc++ APIåº“
+ [ä½¿ç”¨RPCåŒ…è£…å™¨å»ºç«‹python API](https://microsoft.github.io/AirSim/adding_new_apis/)
+ è°ƒè¯•åï¼Œè¿è¡Œupdate_to_gité‡æ–°ç”Ÿæˆæ’ä»¶
+ åœ¨æ–°çš„UEå·¥ç¨‹ä¸‹ä½¿ç”¨æ’ä»¶

â€‹	æ¶‰åŠåˆ°æ•´ä½“C++ã€PYTHONç«¯çš„APIå¼€å‘å’Œè°ƒè¯•ã€‚

### 1.4 Webots

> æä¾›ç¼–ç¨‹æ¥å£å’Œæ°´ä¸‹åœº

åœºæ™¯æè¿°æ ¼å¼ï¼š

wbtï¼šåœºæ™¯æè¿°çš„åŸºæœ¬æ ¼å¼

æ ‡å‡†é¡¹ç›®æ–‡ä»¶å±‚æ¬¡æ¨¡æ¿ï¼š

â€‹	æ ¹ç›®å½•ä¸‹åŒ…å«ä»¥ä¸‹æ–‡ä»¶å¤¹

â€‹	controllersï¼šæ§åˆ¶å™¨

â€‹	protosï¼šprotosæ–‡ä»¶(å•ä¸ªç»„ä»¶)

â€‹	pluginsï¼šæ’ä»¶æ–‡ä»¶

â€‹	worlds: å­˜æ”¾wbtä¸–ç•Œæ–‡ä»¶



### 1.5 Stonefish

> å¼€æºæ°´ä¸‹ç¯å¢ƒï¼ŒåŸºäºC++å¼€å‘



## 2. æµ…åœ¨å¯å¼€å‘çš„ä»¿çœŸå¹³å°

### 2.1 Isaac Sim

> [åŸºäºPhyxæ„å»ºï¼ŒåŠŸèƒ½å…¨é¢ï¼Œç›®å‰æ²¡æœ‰æ°´ä¸‹ç¯å¢ƒï¼Œä½†æ˜¯æä¾›å¼€å‘æ¥å£ï¼Œå¯èƒ½å¯ä»¥ç¼–å†™æ‹“å±•æ’ä»¶æ¥åˆ›å»ºæ°´ä¸‹ä»¿çœŸç¯å¢ƒã€‚](https://docs.isaacsim.omniverse.nvidia.com/4.5.0/reference_material/benchmarks.html)

[isaac_underwater](https://github.com/leonlime/isaac_underwater?utm_source=chatgpt.com):è¿™ä¸ªé¡¹ç›®å¾ˆåŸºç¡€ï¼Œä½†æ˜¯å¯ä»¥åŸºäºè¿™ä¸ªé¡¹ç›®è¿›è¡Œå¼€å‘ã€‚

![image-20250521110624569](Simulations.assets/image-20250521110624569.png)



[Ocean_sim](https://github.com/umfieldrobotics/OceanSim)

[MarineGym](https://marine-gym.com/)

[AAM-SEALS](https://aam-seals.umd.edu/)

### 2.2 Genesis

> [æ‹¥æœ‰å…‰æ»‘ç²’å­æµä½“åŠ¨åŠ›å­¦æ±‚è§£å™¨ç­‰éåˆšä½“æ±‚è§£å™¨](https://genesis-world.readthedocs.io/zh-cn/latest/user_guide/overview/what_is_genesis.html)





### 2.3 MuJoCo

> [å¯ä»¥è¿›è¡Œç®€åŒ–çš„æµä½“ä»¿çœŸï¼Œä½†æ— æ³•ç²¾ç¡®çš„æ¨¡æ‹Ÿæµä½“åŠ¨åŠ›å­¦](https://mujoco.readthedocs.io/en/stable/computation/fluid.html)



## 3. è¢«æŠ›å¼ƒçš„å¹³å°

### 3.1 UWsim

> [è¾ƒæ—§çš„å¹³å°ï¼Œæä¾›å®Œæ•´çš„æ°´ä¸‹ä»¿çœŸ](https://www.irs.uji.es/uwsim/)

æš‚æ—¶æŠ›å¼ƒæ­¤å¹³å°ï¼Œéœ€è¦Ubuntu18.04æ¥ä½¿ç”¨ï¼Œé¡¹ç›®å·²ç»é•¿æœŸæ— äººç»´æŠ¤ã€‚ï¼ˆè¿è¡Œè™šæ‹Ÿæœºå³å¯ï¼‰

### 3.2 ThreedDWorld

> [é—­æºæ–¹æ¡ˆï¼Œå®˜ç½‘è¡¨ç¤ºå¯ä»¥è®¾ç½®æµä½“ç‰¹æ€§](https://www.threedworld.org/)

å¼€å‘å›°éš¾ï¼Œä»·å€¼ä¸å¦‚å¼€æºå¹³å°ã€‚

### 3.3 MARUSimulator

> åŸºäºUEçš„å¼€æºé¡¹ç›®ï¼Œä½†ç¼ºä¹é¡¹ç›®æ–‡æ¡£

ç¼ºå°‘æ–‡æ¡£ï¼Œå¼€å‘éš¾åº¦æå¤§ã€‚
